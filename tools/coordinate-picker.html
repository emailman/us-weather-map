<!DOCTYPE html>
<html>
<head>
    <title>SVG Coordinate Picker - Washington Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        #map-container { position: relative; border: 1px solid #ccc; display: inline-block; }
        svg { display: block; }
        #coords {
            margin-top: 10px;
            padding: 10px;
            background: #f0f0f0;
            font-family: monospace;
            min-height: 100px;
        }
    </style>
</head>
<body>
    <h1>Washington Reference Point Extraction</h1>
    <p>Click on Olympia (the capital, located at the southern end of Puget Sound) to record its SVG coordinates.</p>
    <p><strong>Current coordinates:</strong> mapX=0.146, mapY=0.137</p>

    <div id="map-container">
        <svg width="960" height="600" viewBox="0 0 960 600" id="map">
            <!-- Background -->
            <rect width="960" height="600" fill="#E3F2FD"/>

            <!-- Washington path from us_map.xml -->
            <path id="washington" fill="#BBDEFB" stroke="#1976D2" stroke-width="2"
                d="M74.5,67.7 l-2.3,-4.3 -4.1,-0.7 -0.4,-2.4 -2.5,-0.6 -2.9,-0.5 -1.8,1 -2.3,-2.9 0.3,-2.9 2.7,-0.3 1.6,-4 -2.6,-1.1 0.2,-3.7 4.4,-0.6 -2.7,-2.7 -1.5,-7.1 0.6,-2.9 v-7.9 l-1.8,-3.2 2.3,-9.4 2.1,0.5 2.4,2.9 2.7,2.6 3.2,1.9 4.5,2.1 3.1,0.6 2.9,1.5 3.4,1 2.3,-0.2 v-2.4 l1.3,-1.1 2.1,-1.3 0.3,1.1 0.3,1.8 -2.3,0.5 -0.3,2.1 1.8,1.5 1.1,2.4 0.6,1.9 1.5,-0.2 0.2,-1.3 -1,-1.3 -0.5,-3.2 0.8,-1.8 -0.6,-1.5 v-2.6 l1.8,-3.6 -1.1,-2.6 -2.4,-4.8 0.3,-0.8 1.4,-0.8 4.4,1.5 9.7,2.7 8.6,1.9 20,5.7 23,5.7 15,3.49 -4.8,17.56 -4.5,20.83 -3.4,16.25 -0.4,9.18 v0 l-12.9,-3.72 -15.3,-3.47 -14.5,0.32 -1.1,-1.53 -5.7,2.09 -3.9,-0.42 -2.6,-1.79 -1.7,0.65 -4.15,-0.25 -1.72,-1.32 -5.16,-1.82 -1.18,-0.16 -4.8,-1.39 -1.92,1.65 -5.65,-0.25 -4.61,-3.35z m9.6,-55.4 2,-0.2 0.5,1.4 1.5,-1.6 h2.3 l0.8,1.5 -1.5,1.7 0.6,0.8 -0.7,2 -1.4,0.4 c0,0 -0.9,0.1 -0.9,-0.2 0,-0.3 1.5,-2.6 1.5,-2.6 l-1.7,-0.6 -0.3,1.5 -0.7,0.6 -1.5,-2.3z"/>

            <!-- Current Olympia marker position (from StateCapital.kt: 0.146, 0.137) -->
            <circle id="olympia-current" cx="140" cy="82" r="8" fill="orange" stroke="white" stroke-width="2"/>
            <text x="160" y="86" font-size="12" fill="orange">Current (0.146, 0.137)</text>
        </svg>
    </div>

    <div id="coords">
        <strong>Click on Olympia's location</strong><br>
        Olympia is at the southern tip of Puget Sound, in western Washington.<br><br>
        Last click: --
    </div>

    <script>
        document.getElementById('map').addEventListener('click', function(e) {
            const rect = this.getBoundingClientRect();
            const scaleX = 960 / rect.width;
            const scaleY = 600 / rect.height;

            const x = (e.clientX - rect.left) * scaleX;
            const y = (e.clientY - rect.top) * scaleY;

            const normX = (x / 960).toFixed(3);
            const normY = (y / 600).toFixed(3);

            document.getElementById('coords').innerHTML =
                `<strong>Click coordinates:</strong><br>` +
                `SVG: x=${x.toFixed(1)}, y=${y.toFixed(1)}<br>` +
                `Normalized: mapX=${normX}, mapY=${normY}<br><br>` +
                `<strong>Kotlin code:</strong><br>` +
                `StateCapital("Washington", "Olympia", 47.0379, -122.9007, ${normX}f, ${normY}f)`;
        });
    </script>
</body>
</html>
